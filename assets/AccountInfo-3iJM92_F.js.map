{"version":3,"file":"AccountInfo-3iJM92_F.js","sources":["../../src/svg/Delete.tsx","../../src/svg/Logout.tsx","../../src/api/me/authDelete.ts","../../src/hooks/useStatistic.tsx","../../src/Widgets/AccountInfo/AccountInfo.tsx"],"sourcesContent":["import { FC } from \"react\";\nimport { svgProps } from \"./interfaces\";\n\nconst Delete: FC<svgProps> = ({ classes }) => {\n  return (\n    <svg\n      className={classes}\n      aria-hidden=\"true\"\n      width=\"800px\"\n      height=\"800px\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M10 11V17\"\n        stroke=\"#fff\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M14 11V17\"\n        stroke=\"#fff\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M4 7H20\"\n        stroke=\"#fff\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M6 7H12H18V18C18 19.6569 16.6569 21 15 21H9C7.34315 21 6 19.6569 6 18V7Z\"\n        stroke=\"#fff\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z\"\n        stroke=\"#fff\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n};\n\nexport default Delete;\n","import { FC } from \"react\";\nimport { svgProps } from \"./interfaces\";\n\nconst Logout: FC<svgProps> = ({ classes }) => {\n  return (\n    <svg\n      className={classes}\n      aria-hidden=\"true\"\n      width=\"800px\"\n      height=\"800px\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M21 12L13 12\"\n        stroke=\"#fff\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M18 15L20.913 12.087V12.087C20.961 12.039 20.961 11.961 20.913 11.913V11.913L18 9\"\n        stroke=\"#fff\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M16 5V4.5V4.5C16 3.67157 15.3284 3 14.5 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H14.5C15.3284 21 16 20.3284 16 19.5V19.5V19\"\n        stroke=\"#fff\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n};\n\nexport default Logout;\n","import { instance } from \"../config\";\n\nexport async function authDelete(): Promise<void> {\n  await instance.delete(`/me`)\n  .catch((err) => {\n    throw new Error(err.response.data.message)\n  })\n}\n","import { useQuery } from \"@tanstack/react-query\";\nimport { userType } from \"../api/auth/authLogin\";\nimport useLogout from \"./useLogout\";\nimport { fetchStatistic } from \"../api/users/fetchStatistic\";\nimport { getStatisticArr } from \"../Widgets/AccountInfo/accountInfoArr\";\nimport { authLogout } from \"../api/auth/authLogout\";\nimport { authDelete } from \"../api/me/authDelete\";\nimport { useMemo } from \"react\";\n\nexport function useStatistic(dataObj: userType) {\n  const logoutMutation = useLogout(authLogout);\n  const deleteMutation = useLogout(authDelete);\n\n  const statisticObj = useQuery({\n    queryFn: () => fetchStatistic(dataObj.id),\n    queryKey: [\"statistic\"],\n    retry: 1,\n  });\n\n  const statistic = useMemo(() => {\n    return statisticObj.isSuccess ? getStatisticArr(statisticObj.data) : null;\n  }, [statisticObj.data]);\n\n  return { logoutMutation, deleteMutation, statisticObj, statistic };\n}\n","import User from \"../../assets/img/man.jpg\";\nimport IconButton from \"../../Shared/IconButton/IconButton\";\nimport InfoElement from \"../../Shared/InfoElement/InfoElement\";\nimport Delete from \"../../svg/Delete\";\nimport Logout from \"../../svg/Logout\";\nimport \"./accountInfo.css\";\nimport Loader from \"../../Shared/Loader/Loader\";\nimport { useStatistic } from \"../../hooks/useStatistic\";\nimport { RootState } from \"../../store/store\";\nimport { useSelector } from \"react-redux\";\nimport { FC } from \"react\";\nimport UserInfo from \"../../Shared/UserInfo/UserInfo\";\n\ninterface AccountInfoProps {\n  forPage: \"account\" | \"user\";\n}\n\nconst AccountInfo: FC<AccountInfoProps> = ({ forPage }) => {\n  const userData = useSelector((state: RootState) => state.userState);\n  const { logoutMutation, deleteMutation, statisticObj, statistic } =\n    useStatistic(userData);\n\n  if (logoutMutation.isPending || deleteMutation.isPending) {\n    return <Loader type=\"big\" />;\n  }\n\n  return (\n    <div className=\"infos\">\n      <img className=\"infos__img\" src={User} alt=\"user photo\" />\n      <div className=\"identity\">\n        <UserInfo data={userData} />\n\n        {forPage === \"account\" && (\n          <div className=\"identity__btn\">\n            <IconButton\n              onClick={() => logoutMutation.mutate()}\n              classes=\"infos-btn\"\n              svg={<Logout classes=\"infos-svg\" />}\n            />\n            <IconButton\n              onClick={() => deleteMutation.mutate()}\n              classes=\"infos-btn\"\n              svg={<Delete classes=\"infos-svg\" />}\n            />\n          </div>\n        )}\n      </div>\n\n      {statisticObj.isError && (\n        <div className=\"error-wrap-statistic\">\n          <span className=\"error\">Error: {statisticObj.error.message}</span>\n        </div>\n      )}\n\n      {statisticObj.isSuccess && (\n        <ul className=\"infos-list\">\n          {statistic?.map((elem) => (\n            <InfoElement key={elem.id} label={elem.label} value={elem.value} />\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default AccountInfo;\n"],"names":["Delete","classes","jsxs","jsx","Logout","authDelete","instance","err","useStatistic","dataObj","logoutMutation","useLogout","authLogout","deleteMutation","statisticObj","useQuery","fetchStatistic","statistic","useMemo","getStatisticArr","AccountInfo","forPage","userData","useSelector","state","Loader","User","UserInfo","IconButton","elem","InfoElement"],"mappings":"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"}