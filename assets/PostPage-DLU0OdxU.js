import{r as l,c as x,j as s,L as j,d as f}from"./index-BM7gXiEi.js";import{N as h,C as N}from"./Comment-DOqNDI-1.js";import{S as g}from"./Snippet-Dxp0p7dO.js";import{f as y}from"./fetchComments-BR2g0jFQ.js";import{u as b}from"./useLastIdLocation-2wvBTfus.js";import"./Message-CnKAuWI7.js";import"./ErrorMessageFetch-2ytYcsZd.js";import"./zod-CberE-wn.js";import"./IconButton-D6lSfURL.js";import"./Close-D6xosMpA.js";import"./index-ans_9-if.js";const A=()=>{var m,a;const r=b(),[n,o]=l.useState(!1),{error:p,isError:c,isSuccess:i,isPending:d,data:e}=x({queryFn:()=>y(r),queryKey:[`snippets/${r}`],retry:1});return d?s.jsx(j,{type:"big"}):(i&&((m=e==null?void 0:e.comments)==null||m.sort((t,u)=>Number(t.id)>Number(u.id)?1:-1)),s.jsxs("section",{className:"post-page",children:[s.jsx("div",{className:"post-page-btn__wrapper",children:s.jsx(f.Button,{onClick:()=>o(!0),classes:"edit-snippet addcomment-snippet",children:"Add comment"})}),c&&s.jsx("div",{children:s.jsxs("span",{className:"error",children:["Error: ",p.message]})}),i&&s.jsx(g,{dataObj:e,children:s.jsxs("ul",{className:"commemts-list",children:[n&&s.jsx(h,{setStatus:o,snippetId:r}),(a=e.comments)==null?void 0:a.reverse().map(t=>s.jsx(N,{comment:t},t.id))]})})]}))};export{A as default};
//# sourceMappingURL=PostPage-DLU0OdxU.js.map
