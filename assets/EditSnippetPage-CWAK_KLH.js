import{i as u,f as d,u as m,q as l,c as x,j as e,L as n,d as f}from"./index-BM7gXiEi.js";import{H as y}from"./HeaderSection-COAfhMFu.js";import{N as g}from"./NewSnippet-NkjXcmec.js";import{u as j}from"./useLastIdLocation-2wvBTfus.js";import{f as E}from"./fetchComments-BR2g0jFQ.js";import{E as h}from"./ErrorMessageFetch-2ytYcsZd.js";import"./CodeEditor-DXR2qW-n.js";async function S(s){await u.delete(`/snippets/${s}`).catch(i=>{throw new Error(i.response.data.message)})}const F=()=>{const s=j(),i=d(),t=m({mutationFn:()=>S(s),onSuccess(){l.invalidateQueries({queryKey:["snippets"]}),i("/my_snippets")}}),{error:a,isError:o,isSuccess:p,isPending:c,data:r}=x({queryFn:()=>E(s),queryKey:[`snippets/${s}}`],retry:1});return c?e.jsx(n,{type:"big"}):e.jsxs("section",{className:"section__snippet section__edit-snippet",children:[e.jsx(y,{title:"Edit Snippet"}),t.isError&&e.jsx(h,{mutation:t}),e.jsx(f.Button,{classes:"delete-snippet",onClick:()=>t.mutate(),variant:"text",children:t.isPending?e.jsx(n,{type:"small"}):"Delete snippet"}),p&&e.jsx(g,{update:!0,selects:r.code,values:r.language,snippetID:r.id}),o&&e.jsx("div",{children:e.jsxs("span",{className:"error",children:["Error: ",a.message]})})]})};export{F as default};
//# sourceMappingURL=EditSnippetPage-CWAK_KLH.js.map
