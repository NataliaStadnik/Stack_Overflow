import{j as s,i as m,e as p,r as x,f as j,c as h,L as f,d as P}from"./index-BM7gXiEi.js";import{Q as q}from"./Question-DlQIaAMw.js";import{u as Q,P as y,D as E}from"./usePages-BZQ-M0hh.js";import{H as b}from"./HeaderSection-COAfhMFu.js";import"./IconButton-D6lSfURL.js";const k=({dataObj:a,classes:e=""})=>s.jsx("ul",{className:`question-list ${e}`,children:a.map(t=>s.jsx("li",{className:"questions-list__item",children:s.jsx(q,{dataObj:t})},t.id))});async function w(a="1"){return(await m.get(`/questions?page=${a}`).catch(e=>{throw new Error(e.response.data.message)})).data.data}const F=()=>{const[a]=p(),[e,t]=x.useState(a.get("page")||"1"),i=j(),o=()=>{i("/questions/new")},{error:c,isError:u,isSuccess:l,isPending:d,data:r,refetch:g,isFetching:n}=h({queryFn:()=>w(e),queryKey:["questions"],enabled:!1});return Q({page:e,setPage:t,refetch:g}),d?s.jsx(f,{type:"big"}):s.jsxs(s.Fragment,{children:[s.jsx(b,{title:"All Questions"}),s.jsx(y,{currentPage:e,setPage:t,maxPage:r==null?void 0:r.meta.totalPages}),n&&s.jsx(E,{}),s.jsx(P.Button,{onClick:o,classes:"ask-question",children:"Ask question"}),u&&s.jsx("div",{children:s.jsxs("span",{className:"error",children:["Error: ",c.message]})}),l&&s.jsx(k,{dataObj:r.data,classes:n?"snippet-list__load":""})]})};export{F as default};
//# sourceMappingURL=QuestionsPage-ClCgf40S.js.map
