import{r as x,f as j,b as g,c as w,j as s,L as f,d as o}from"./index-BM7gXiEi.js";import{Q as h}from"./Question-DlQIaAMw.js";import{g as N}from"./getOneQuestion-Y0v73VWs.js";import{u as q}from"./useLastIdLocation-2wvBTfus.js";import{N as v,C as y}from"./Comment-DOqNDI-1.js";import"./IconButton-D6lSfURL.js";import"./Message-CnKAuWI7.js";import"./ErrorMessageFetch-2ytYcsZd.js";import"./zod-CberE-wn.js";import"./Close-D6xosMpA.js";import"./index-ans_9-if.js";const O=()=>{var a;const[c,i]=x.useState(!1),r=q(),m=j(),p=g(t=>t.userState.id),{error:d,isError:u,isSuccess:n,data:e,isPending:l}=w({queryFn:()=>N(r),queryKey:[`/questions/${r}`],retry:1});return l?s.jsx(f,{type:"big"}):s.jsxs("section",{className:"answers-page",children:[s.jsxs("div",{className:"answers-page-btn__wrapper",children:[s.jsx(o.Button,{onClick:()=>i(!0),classes:"edit-snippet addcomment-snippet",children:"Add answer"}),p===(e==null?void 0:e.user.id)&&s.jsx(o.Button,{onClick:()=>m(`/questions/${r}`),classes:"edit-snippet addcomment-snippet",children:"Edit question"})]}),u&&s.jsx("div",{children:s.jsxs("span",{className:"error",children:["Error: ",d.message]})}),n&&s.jsx("div",{className:"answers-page__question",children:s.jsx(h,{dataObj:e})}),n&&s.jsxs("ul",{className:"answers-list",children:[c&&s.jsx(v,{setStatus:i,answerId:r}),(a=e==null?void 0:e.answers)==null?void 0:a.reverse().map(t=>s.jsx(y,{comment:t},t.id))]})]})};export{O as default};
//# sourceMappingURL=Answers-C9pMbOAL.js.map
